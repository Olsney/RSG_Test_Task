using Content.Features.DamageablesModule.Scripts;

namespace Content.Features.UIModule
{
    internal class HealthPresenter : Presenter<HealthView>
    {
        private readonly HealthView _view;
        private readonly HealthProvider _healthProvider;

        public HealthPresenter(HealthView view, HealthProvider healthProvider) : base(view)
        {
            _view = view;
            _healthProvider = healthProvider;
            
            _healthProvider.HealthChanged += OnHealthChanged;
            _healthProvider.SetHealth(_healthProvider.CurrentHealth);
        }

        private void OnHealthChanged(float health) =>
            _view.SetHealth(health);
    }
}