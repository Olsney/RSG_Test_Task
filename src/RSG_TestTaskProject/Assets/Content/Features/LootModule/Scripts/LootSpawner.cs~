using System;
using System.Collections.Generic;
using System.Runtime.InteropServices;
using UnityEngine;
using UnityEngine.Serialization;
using Zenject;

namespace Content.Features.LootModule.Scripts {
    public class LootSpawner : MonoBehaviour {
        [FormerlySerializedAs("_lootToSpawn")] [SerializeField] private List<Loot> _possibleLoots;
        private DiContainer _diContainer;

        [Inject]
        public void InjectDependencies(DiContainer diContainer) =>
            _diContainer = diContainer;

        public void SpawnLoot() {
            foreach (Loot loot in _possibleLoots)
                _diContainer.InstantiatePrefab(loot.gameObject, transform.position, Quaternion.identity, null);
        }
    }
}